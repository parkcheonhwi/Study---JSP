create database mybatis;
use mybatis;

/*회원 테이블*/
/*이메일, 비밀번호, 이름*/
create table tbl_member(
	id bigint unsigned auto_increment primary key,
	member_email varchar(255) not null unique,
	member_password varchar(255) not null,
	member_name varchar(255) not null
);

select * from tbl_member;

/*주문 테이블*/
/*회원번호, 상품번호, 상품 수량*/
create table tbl_order(
	id bigint unsigned auto_increment primary key,
	member_id bigint unsigned not null,
	product_id bigint unsigned not null,
	product_count int default 1,
	constraint fk_order_member foreign key(member_id)
	references tbl_member(id),
	constraint fk_order_product foreign key(product_id)
	references tbl_product(id)
);

select * from tbl_order;

create table tbl_product(
	id bigint unsigned auto_increment primary key,
	product_name varchar(255) not null,
	product_price int default 0,
	product_stock int default 0
);

select * from tbl_product;

select * from tbl_product
order by id desc
limit 0, 1;

insert into tbl_product(product_name, product_price, product_stock)
values('키보드', 32000, 10);
